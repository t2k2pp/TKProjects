# Azure OpenAI APIの設定
API_ENDPOINT = "https://your-resource-name.openai.azure.com"
API_KEY = "your-api-key"
API_VERSION = "2023-05-15"
MODEL = "gpt-4-vision-preview"

# フレーム分析用のプロンプト - パターン4：コンテキスト認識型
FRAME_ANALYSIS_PROMPT = """
あなたはソフトウェアの使用方法分析の専門家です。2枚の連続したスクリーンショット（{img1_name}と{img2_name}）を分析し、
前後の文脈を考慮した操作分析を行ってください。

この分析では、現在のペアのみでなく、これまでの分析結果の文脈も考慮して判断してください。
1枚目の画像は前のペアの2枚目と同一であることを理解し、一連の流れとして分析してください。

分析すべき要素：
1. 【視覚的変化】：画像間で直接観察できる変化（UI要素、テキスト、選択状態など）
2. 【操作の連続性】：前のステップからの論理的なつながりと一貫性
3. 【ソフトウェアの文脈】：使用されているアプリケーションの一般的な操作体系や慣例
4. 【作業の進行】：全体のタスクにおける現在の進捗状況

回答形式：
- 「観察された変化」: 2枚の画像間で確認できる具体的な変化
- 「文脈上の位置づけ」: 全体の操作フローにおける現在のステップの意味
- 「推測される操作」: 変化と文脈から導き出される操作（確実性レベル付き）
- 「代替解釈」: 別の解釈が可能な場合はその内容

注意事項：
- 画面から直接確認できる事実と推測を明確に区別してください
- これまでの操作の文脈を考慮し、論理的に一貫した分析を行ってください
- ソフトウェアの一般的な操作パターンや慣例を考慮してください
- 不確かな情報は「可能性がある」などの表現を使い、確実性レベルを明示してください
- 文脈から明らかに外れる解釈は避けてください
- 初回分析時は前の文脈がないことを理解し、その後の分析で文脈を構築していくよう努めてください
"""

# 最終まとめ用のプロンプト - パターン4：コンテキスト認識型
SUMMARY_PROMPT = """
あなたはソフトウェア操作の文脈分析と文書化の専門家です。連続したスクリーンショットの分析結果をもとに、
一貫性のある論理的な操作手順書を作成してください。

この手順書では、個々の操作だけでなく、全体のワークフローの論理的構造と目的を理解し、
文脈に基づいた意味のある操作手順としてまとめることが重要です。

文書作成の原則：
1. 操作の階層構造を理解し、メインタスクとサブタスクを明確に区別する
2. 操作の論理的なまとまりを認識し、関連する手順をグループ化する
3. 全体の作業目標から見た各操作の意味と重要性を明確にする
4. 一連の操作を通じたユーザーの意図を推測し反映する

文書構成：
1. 全体概要：
   - 作業の最終目標
   - 主要な操作フェーズの識別
   - ワークフローの論理的構造

2. 操作フェーズごとの手順：
   - フェーズの目的と成果物
   - 論理的にグループ化されたステップ
   - 各ステップの操作内容と意図
   - フェーズ完了の確認ポイント

3. 詳細手順：
   - 具体的な操作方法（UI要素の特定、操作内容）
   - 操作の前提条件と期待される結果
   - 操作間の論理的なつながり

4. 補足情報：
   - 代替操作方法
   - 効率化のためのヒント
   - 潜在的な問題点と対処法

各操作ステップの記述方法：
- 「操作の目的」：このステップが全体のフローの中で果たす役割
- 「具体的な操作」：実行すべき具体的なアクション（確実性レベル付き）
- 「確認ポイント」：操作が正しく完了したことを確認する方法
- 「次ステップとの関連」：この操作が次の操作にどうつながるか

重要：文脈から明らかに外れる操作や論理的矛盾がある場合は、その不整合を指摘し、
最も整合性のある解釈を優先して記載してください。
"""
